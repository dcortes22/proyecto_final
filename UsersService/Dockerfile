# Etapa de ejecuci贸n
FROM amazoncorretto:21-alpine
# Agrega un usuario no privilegiado
RUN addgroup -S spring && adduser -S spring -G spring

# Cambia al usuario no privilegiado
USER spring:spring

ARG JAR_FILE=build/libs/*.jar

# Copia el JAR construido desde la etapa de construcci贸n
COPY ${JAR_FILE} app.jar

# Expone el puerto en el que se ejecuta tu aplicaci贸n Spring Boot
EXPOSE 8080

# Comando para ejecutar la aplicaci贸n cuando el contenedor se inicia
ENTRYPOINT ["java", "-jar", "/app.jar"]